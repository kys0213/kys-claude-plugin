#!/bin/bash
# Fake claude binary for testing
# Behavior controlled by environment variables:
#   CLAUDE_MOCK_STDOUT    - stdout to return
#   CLAUDE_MOCK_EXIT_CODE - exit code (default: 0)
#   CLAUDE_MOCK_STDERR    - stderr message

exit_code="${CLAUDE_MOCK_EXIT_CODE:-0}"

if [ -n "$CLAUDE_MOCK_STDOUT" ]; then
    echo "$CLAUDE_MOCK_STDOUT"
else
    echo '{"result": "mock analysis complete"}'
fi

if [ -n "$CLAUDE_MOCK_STDERR" ]; then
    echo "$CLAUDE_MOCK_STDERR" >&2
fi

exit "$exit_code"
