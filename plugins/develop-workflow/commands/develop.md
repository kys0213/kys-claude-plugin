---
description: í†µí•© ê°œë°œ ì›Œí¬í”Œë¡œìš° - ì„¤ê³„ â†’ ë¦¬ë·° â†’ êµ¬í˜„ â†’ ë¨¸ì§€ë¥¼ í•˜ë‚˜ì˜ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤
argument-hint: "[ê¸°ëŠ¥ ì„¤ëª… ë˜ëŠ” ìš”êµ¬ì‚¬í•­]"
allowed-tools: ["Task", "Glob", "Grep", "Read", "Write", "Edit", "Bash", "AskUserQuestion"]
---

# í†µí•© ê°œë°œ ì›Œí¬í”Œë¡œìš° (/develop)

ê¸°ëŠ¥ ê°œë°œì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ í•˜ë‚˜ì˜ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```
Phase 1: DESIGN â”€â†’ Phase 2: REVIEW â”€â†’ Phase 3: IMPLEMENT â”€â†’ Phase 4: MERGE
 (ì„¤ê³„)              (ë¦¬ë·°)              (êµ¬í˜„)                (ë¨¸ì§€)
```

## í•µì‹¬ ì›ì¹™

1. **Human decides What & Why, Agent decides How**: ì¸ê°„ì´ "ë¬´ì—‡ì„"ê³¼ "ì™œ"ë¥¼ ê²°ì •í•˜ê³ , ì—ì´ì „íŠ¸ê°€ "ì–´ë–»ê²Œ"ë¥¼ ì œì•ˆ
2. **Minimal HITL**: ì‚¬ìš©ì ê°œì…ì€ **ì„¤ê³„ ìŠ¹ì¸**ê³¼ **ìµœì¢… PR ë¦¬ë·°** 2ê³³ë§Œ. ë‚˜ë¨¸ì§€ëŠ” í’€ìë™
3. **Multi-LLM í•©ì˜**: ì„¤ê³„ì™€ ë¦¬ë·°ì—ì„œ Claude + Codex + Gemini 3ê°œ LLMì˜ ê´€ì  í™œìš©
4. **ìƒí™©ë³„ êµ¬í˜„ ì „ëµ**: íƒœìŠ¤í¬ ê·œëª¨ì— ë”°ë¼ Direct / Subagent / Agent Teams ìë™ ì„ íƒ
5. **git-utils ì—°ë™**: ë¸Œëœì¹˜, PR, ë¨¸ì§€ë¥¼ git-utils í”ŒëŸ¬ê·¸ì¸ì— ìœ„ì„
6. **ìƒíƒœ ì§€ì†ì„±**: `.develop-workflow/state.yaml`ë¡œ ì„¸ì…˜ ì¬ê°œ ë° compaction ëŒ€ì‘
7. **ì•”ë¬µì§€ì˜ ëª…ì‹œí™”**: ë§¥ë½, ì»¨ë²¤ì…˜, ì•”ë¬µì§€ë¥¼ CLAUDE.md / rules / ì„¤ì • íŒŒì¼ì— ì¶•ì í•˜ì—¬ ìë™í™” í’ˆì§ˆì„ ì ì§„ì ìœ¼ë¡œ í–¥ìƒ

---

## HITL ì •ì±…

ì‚¬ìš©ì ê°œì…(Human-in-the-Loop)ì€ **ì •í™•íˆ 2ê³³**ì—ì„œë§Œ ë°œìƒí•©ë‹ˆë‹¤:

```
Phase 1: DESIGN â”€â”€â”€â”€â”€â”€â†’ Phase 2: REVIEW â”€â”€â†’ Phase 3: IMPLEMENT â”€â”€â†’ Phase 4: MERGE
                                                                          â”‚
    ğŸ”’ HITL #1                 ìë™                    ìë™            ğŸ”’ HITL #2
    ì„¤ê³„ ìŠ¹ì¸                                                        ìµœì¢… PR ë¦¬ë·°
    (Step 1.5)                                                       (Step 4.1)
```

| HITL ì§€ì  | Phase | ëª©ì  | ìë™í™” ë¶ˆê°€ ì´ìœ  |
|-----------|-------|------|-----------------|
| **#1 ì„¤ê³„ ìŠ¹ì¸** | Phase 1 ë | ì•„í‚¤í…ì²˜/Checkpoint í™•ì¸ | "ë¬´ì—‡ì„ ë§Œë“¤ì§€"ëŠ” ì¸ê°„ì´ ê²°ì • |
| **#2 ìµœì¢… PR ë¦¬ë·°** | Phase 4 ì‹œì‘ | RALPH ì™„ë£Œ í›„ ì½”ë“œ ë¦¬ë·° ê²°ê³¼ í™•ì¸ | ë¨¸ì§€ ì „ ìµœì¢… í’ˆì§ˆ ê²Œì´íŠ¸ |

**ë‚˜ë¨¸ì§€ëŠ” ëª¨ë‘ ìë™**:
- Step 0 ì„¸ì…˜ ì¬ê°œ: ìë™ ì´ì–´ì„œ ì§„í–‰ (DONEì´ë©´ ìƒˆë¡œ ì‹œì‘)
- Step 1.1 ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘: ì‚¬ìš©ì ìš”ì²­ + CLAUDE.md/rulesì—ì„œ ë§¥ë½ ì¶”ì¶œ
- Step 2.3 ë¦¬ë·° í”¼ë“œë°±: Critical ì´ìŠˆ ìë™ ë°˜ì˜, Phase 1.2 ìë™ ì¬ì§„ì…
- Step 3.2 ì „ëµ ì„ íƒ: ìë™ íŒë‹¨ (Checkpoint ë¶„ì„ ê¸°ë°˜)
- Step 3.4 ì—ìŠ¤ì»¬ë ˆì´ì…˜: RALPH ì¬ì‹œë„ ìë™ ìˆ˜í–‰, 3íšŒ ì‹¤íŒ¨ ì‹œì—ë§Œ ì‚¬ìš©ì ê°œì…

> **ìë™í™” í’ˆì§ˆ í–¥ìƒ**: ì—ì´ì „íŠ¸ê°€ ììœ¨ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ íŒë‹¨ì„ í•˜ë ¤ë©´ ë§¥ë½ì´ í•„ìš”í•©ë‹ˆë‹¤.
> CLAUDE.md, `.claude/rules/`, ì„¤ì • íŒŒì¼ì— í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜ê³¼ ì•”ë¬µì§€ë¥¼ ì§€ì†ì ìœ¼ë¡œ ì¶”ê°€í•˜ì„¸ìš”.
> ì¶•ì ëœ ë§¥ë½ì´ í’ë¶€í• ìˆ˜ë¡ HITL ì—†ì´ë„ ì •í™•í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## Step 0: ì„¸ì…˜ ì¬ê°œ í™•ì¸

ì›Œí¬í”Œë¡œìš° ì‹œì‘ ì‹œ **ë°˜ë“œì‹œ** `.develop-workflow/state.yaml` ì¡´ì¬ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```
/develop ì‹¤í–‰
    â”‚
    â”œâ”€â”€ .develop-workflow/state.yaml ì¡´ì¬?
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Yes (phase: DONE) â†’ "ì´ì „ ì›Œí¬í”Œë¡œìš° ì™„ë£Œ. ìƒˆë¡œ ì‹œì‘í•©ë‹ˆë‹¤." â†’ state.yaml ì‚­ì œ
    â”‚   â”‚
    â”‚   â”œâ”€â”€ Yes (ì§„í–‰ ì¤‘) â†’ ìƒíƒœ ì½ê¸° â†’ ìë™ìœ¼ë¡œ í•´ë‹¹ Phase/Checkpointë¶€í„° ì¬ê°œ
    â”‚   â”‚         ë¡œê·¸: "ì„¸ì…˜ ì¬ê°œ: Phase IMPLEMENT, cp-2 ì§„í–‰ ì¤‘ (iteration 1/3)"
    â”‚   â”‚
    â”‚   â””â”€â”€ No â†’ ìƒˆ ì›Œí¬í”Œë¡œìš° ì‹œì‘
    â”‚
    â–¼
Phase 1ë¶€í„° (ë˜ëŠ” ì¬ê°œ ì§€ì ë¶€í„°) ì‹¤í–‰
```

> **ìë™ ì¬ê°œ**: ì´ì „ ì„¸ì…˜ì´ ìˆìœ¼ë©´ ì‚¬ìš©ì í™•ì¸ ì—†ì´ ìë™ìœ¼ë¡œ ì´ì–´ì„œ ì§„í–‰í•©ë‹ˆë‹¤.
> DONE ìƒíƒœë©´ ìƒˆ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.

### state.yaml í˜•ì‹

```yaml
# .develop-workflow/state.yaml
phase: IMPLEMENT                # DESIGN | REVIEW | IMPLEMENT | MERGE | DONE
strategy: subagent              # direct | subagent | agent-teams (Phase 3 ì§„ì… ì‹œ ê¸°ë¡)
feature: "ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥"       # ì‚¬ìš©ì ìš”ì²­ ìš”ì•½
started_at: "2026-02-16T10:00:00"
updated_at: "2026-02-16T11:30:00"

checkpoints:
  cp-1: { status: passed, iteration: 2 }
  cp-2: { status: in_progress, iteration: 1 }
  cp-3: { status: pending, iteration: 0 }
```

### ìƒíƒœ ê¸°ë¡ ì‹œì 

state.yamlì€ ë‹¤ìŒ ì‹œì ì— **Write toolë¡œ ê°±ì‹ **í•©ë‹ˆë‹¤:

| ì‹œì  | ê¸°ë¡ ë‚´ìš© |
|------|----------|
| Phase ì „í™˜ | `phase` í•„ë“œ ì—…ë°ì´íŠ¸ |
| Checkpoint ì‹œì‘ | í•´ë‹¹ CP `status: in_progress` |
| RALPH iteration ì™„ë£Œ | `iteration` ì¹´ìš´íŠ¸ ì¦ê°€, `status` ì—…ë°ì´íŠ¸ |
| Checkpoint í†µê³¼ | `status: passed` |
| Checkpoint ì‹¤íŒ¨ (ì¬ì‹œë„ ì´ˆê³¼) | `status: escalated` |
| ì›Œí¬í”Œë¡œìš° ì™„ë£Œ | `phase: DONE` |

> **ì£¼ì˜**: state.yaml ê¸°ë¡ì€ ê°€ë³ê²Œ ìœ ì§€í•©ë‹ˆë‹¤. í”¼ë“œë°± ìƒì„¸ë‚˜ ì„¤ê³„ ë‚´ìš©ì€ ê¸°ë¡í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
> ì‹¤íŒ¨ ì›ì¸ì€ ë‹¤ì‹œ ë¶„ì„í•˜ë©´ ë˜ë¯€ë¡œ "ì–´ë””ê¹Œì§€ í–ˆëŠ”ì§€"ë§Œ ì¶”ì í•©ë‹ˆë‹¤.

---

## ì „ì²´ ì›Œí¬í”Œë¡œìš°

```
ì‚¬ìš©ì ìš”ì²­
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 1: DESIGN                                            â”‚
â”‚  â”œâ”€â”€ ìš”êµ¬ì‚¬í•­ ë¶„ì„ (ìë™: ìš”ì²­ + CLAUDE.md + rules)        â”‚
â”‚  â”œâ”€â”€ Multi-LLM ì•„í‚¤í…ì²˜ ì„¤ê³„ (Claude + Codex + Gemini)     â”‚
â”‚  â”œâ”€â”€ ì»¨ì„¼ì„œìŠ¤ ë¹Œë”© + ASCII ë‹¤ì´ì–´ê·¸ë¨                       â”‚
â”‚  â”œâ”€â”€ Contract ì •ì˜ (Interface + Test Code)                  â”‚
â”‚  â””â”€â”€ ğŸ”’ HITL #1: ì„¤ê³„ ìŠ¹ì¸                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ (ìë™)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 2: REVIEW (í’€ìë™)                                   â”‚
â”‚  â”œâ”€â”€ Multi-LLM ìŠ¤í™/ì„¤ê³„ ë¦¬ë·° (3ê°œ LLM ë³‘ë ¬)              â”‚
â”‚  â”œâ”€â”€ í•©ì˜ì  / ë¶„ìŸì  ë¶„ì„                                   â”‚
â”‚  â””â”€â”€ Critical í”¼ë“œë°± â†’ Phase 1.2 ìë™ ì¬ì§„ì…                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ (ìë™)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 3: IMPLEMENT (í’€ìë™)                                â”‚
â”‚  â”œâ”€â”€ íƒœìŠ¤í¬ ë¶„ì„ â†’ ì „ëµ ìë™ ì„ íƒ                           â”‚
â”‚  â”‚   â”œâ”€â”€ Direct: ë‹¨ì¼/ì†Œê·œëª¨ íƒœìŠ¤í¬                         â”‚
â”‚  â”‚   â”œâ”€â”€ Subagent: ë³µìˆ˜ ë…ë¦½ íƒœìŠ¤í¬ (Task tool)            â”‚
â”‚  â”‚   â””â”€â”€ Agent Teams: ëŒ€ê·œëª¨ ë³‘ë ¬ + ì†Œí†µ í•„ìš”              â”‚
â”‚  â”œâ”€â”€ êµ¬í˜„ ì‹¤í–‰ (RALPH íŒ¨í„´, ìë™ ì¬ì‹œë„)                    â”‚
â”‚  â””â”€â”€ ìë™ ê²€ì¦ (Contract ê¸°ë°˜)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ (ìë™)
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 4: MERGE                                             â”‚
â”‚  â”œâ”€â”€ ğŸ”’ HITL #2: Multi-LLM ì½”ë“œ ë¦¬ë·° ê²°ê³¼ í™•ì¸            â”‚
â”‚  â”œâ”€â”€ git-utils: /commit-and-pr                              â”‚
â”‚  â”œâ”€â”€ git-utils: /check-ci                                   â”‚
â”‚  â””â”€â”€ git-utils: /merge-pr                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 1: DESIGN

`/design` ì»¤ë§¨ë“œì˜ ì „ì²´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

**ì§„ì… ì‹œ ìƒíƒœ ê¸°ë¡**:
```yaml
# Write .develop-workflow/state.yaml
phase: DESIGN
feature: "{ì‚¬ìš©ì ìš”ì²­ ìš”ì•½}"
started_at: "{í˜„ì¬ ì‹œê°}"
updated_at: "{í˜„ì¬ ì‹œê°}"
checkpoints: {}
```

### Step 1.1: ìš”êµ¬ì‚¬í•­ ë¶„ì„ (ìë™)

ì‚¬ìš©ì ìš”ì²­ + í”„ë¡œì íŠ¸ ë§¥ë½ì„ ê¸°ë°˜ìœ¼ë¡œ ìš”êµ¬ì‚¬í•­ì„ **ìë™ìœ¼ë¡œ** ë¶„ì„í•©ë‹ˆë‹¤.

**ì…ë ¥ ì†ŒìŠ¤**:
- ì‚¬ìš©ìì˜ `/develop` ìš”ì²­ ë©”ì‹œì§€
- CLAUDE.md, `.claude/rules/` ì˜ í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜
- ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ êµ¬ì¡° ë° íŒ¨í„´

**ë¶„ì„ í•­ëª©**:
- ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (í•µì‹¬ ê¸°ëŠ¥, ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤)
- ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ (ì„±ëŠ¥, í™•ì¥ì„±, ë³´ì•ˆ)
- ì œì•½ì¡°ê±´ (ê¸°ìˆ  ìŠ¤íƒ, íŒ€ ê·œëª¨, ì¼ì •)
- **ì‚¬ì´ë“œì´í™íŠ¸ ì¡°ì‚¬**: ë³€ê²½ìœ¼ë¡œ ì˜í–¥ë°›ëŠ” ê¸°ì¡´ ì½”ë“œ, ì˜ì¡´ì„±, ë™ì‘
- ìš°ì„ ìˆœìœ„ (Must-have vs Nice-to-have)

> **HITL ì—†ìŒ**: ì‚¬ìš©ìì—ê²Œ ì§ˆë¬¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¶€ì¡±í•œ ë§¥ë½ì€ CLAUDE.md/rulesì—ì„œ ì¶”ì¶œí•©ë‹ˆë‹¤.
> ë§¥ë½ì´ ì¶©ë¶„í•˜ì§€ ì•Šì•„ ì„¤ê³„ í’ˆì§ˆì´ ë–¨ì–´ì§€ë©´, Step 1.5ì—ì„œ ì‚¬ìš©ìê°€ ìˆ˜ì • ì§€ì‹œë¥¼ ë‚´ë¦½ë‹ˆë‹¤.

### Step 1.2: Multi-LLM ì•„í‚¤í…ì²˜ ì„¤ê³„

ìš”êµ¬ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ 3ê°œ LLMì— ì„¤ê³„ ìš”ì²­ì„ **ë³‘ë ¬** ì „ë‹¬í•©ë‹ˆë‹¤.

```
Task(subagent_type="architect-claude", prompt=DESIGN_PROMPT, run_in_background=true)
Task(subagent_type="architect-codex", prompt=DESIGN_PROMPT, run_in_background=true)
Task(subagent_type="architect-gemini", prompt=DESIGN_PROMPT, run_in_background=true)
```

### Step 1.3: í†µí•© ë¶„ì„

3ê°œ ê²°ê³¼ë¥¼ ì·¨í•©í•˜ì—¬:
- **í•©ì˜ ì‚¬í•­**: 3ê°œ LLM ê³µí†µ ì œì•ˆ
- **ì˜ê²¬ ì°¨ì´**: LLMë³„ ë‹¤ë¥¸ ì ‘ê·¼
- **ìµœì¢… ê¶Œì¥**: ì¢…í•© ì¶”ì²œ + ASCII ë‹¤ì´ì–´ê·¸ë¨

### Step 1.4: Contract ì •ì˜

ë³‘ë ¬ êµ¬í˜„ì„ ìœ„í•œ ê³„ì•½ì„ ì •ì˜í•©ë‹ˆë‹¤:
- **Interface**: ì»´í¬ë„ŒíŠ¸ ê°„ ì¸í„°í˜ì´ìŠ¤ (í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜, íƒ€ì…)
- **Test Code**: Contractë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œ
- **Checkpoints**: ë…ë¦½ ì‹¤í–‰ ê°€ëŠ¥í•œ ì‘ì—… ë‹¨ìœ„

```yaml
checkpoints:
  - id: "checkpoint-1"
    description: "ì‚¬ìš©ì ì¸ì¦ ëª¨ë“ˆ"
    interface:
      - "src/auth/types.ts"
      - "src/auth/auth-service.ts"
    tests:
      - "tests/auth/auth-service.test.ts"
    validation:
      command: "npm test -- --testPathPattern=auth"
      expected: "all tests pass"
    dependencies: []

  - id: "checkpoint-2"
    description: "API ì—”ë“œí¬ì¸íŠ¸"
    dependencies: ["checkpoint-1"]
```

### Step 1.5: ì‚¬ìš©ì í™•ì¸

ì„¤ê³„ ê²°ê³¼ì™€ Checkpointë¥¼ `AskUserQuestion`ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ í™•ì¸ë°›ìŠµë‹ˆë‹¤.

**ìŠ¹ì¸ ì‹œ**: Phase 2ë¡œ ì§„í–‰
**ìˆ˜ì • ìš”ì²­ ì‹œ**: Step 1.2ë¶€í„° ë°˜ë³µ (ìˆ˜ì • ì‚¬í•­ ë°˜ì˜)

---

## Phase 2: REVIEW

`/multi-review` ì»¤ë§¨ë“œë¡œ ì„¤ê³„ ë¬¸ì„œë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

**ì§„ì… ì‹œ ìƒíƒœ ê¸°ë¡**:
```yaml
# Edit .develop-workflow/state.yaml â†’ phase ì—…ë°ì´íŠ¸
phase: REVIEW
updated_at: "{í˜„ì¬ ì‹œê°}"
checkpoints:              # Phase 1ì—ì„œ ì •ì˜ëœ Checkpointë“¤ ì´ˆê¸°í™”
  cp-1: { status: pending, iteration: 0 }
  cp-2: { status: pending, iteration: 0 }
```

### Step 2.1: Multi-LLM ìŠ¤í™ ë¦¬ë·°

ì„¤ê³„ ê²°ê³¼ë¬¼ì— ëŒ€í•´ 3ê°œ LLM ë¦¬ë·°ë¥¼ **ë³‘ë ¬** ì‹¤í–‰í•©ë‹ˆë‹¤.

```
Task(subagent_type="reviewer-claude", prompt=REVIEW_PROMPT, run_in_background=true)
Task(subagent_type="reviewer-codex", prompt=REVIEW_PROMPT, run_in_background=true)
Task(subagent_type="reviewer-gemini", prompt=REVIEW_PROMPT, run_in_background=true)
```

### Step 2.2: ì»¨ì„¼ì„œìŠ¤ ë¶„ì„

- **3/3 í•©ì˜**: ë†’ì€ ì‹ ë¢°ë„ â†’ ë°˜ë“œì‹œ ë°˜ì˜
- **2/3 ë™ì˜**: ì¤‘ê°„ ì‹ ë¢°ë„ â†’ ë°˜ì˜ (ì—ì´ì „íŠ¸ íŒë‹¨)
- **1/3 ì§€ì **: ë‚®ì€ ì‹ ë¢°ë„ â†’ ì°¸ê³ ë§Œ, ë°˜ì˜í•˜ì§€ ì•ŠìŒ

### Step 2.3: ìë™ í”¼ë“œë°± ë£¨í”„

Critical ì´ìŠˆê°€ ìˆìœ¼ë©´:
1. ì´ìŠˆ ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ìˆ˜ì • ë°©í–¥ì„ **ìë™ ê²°ì •**
2. Phase 1.2ë¡œ ëŒì•„ê°€ì„œ ì„¤ê³„ ìë™ ìˆ˜ì •
3. ìµœëŒ€ 2íšŒ ë°˜ë³µ í›„ Phase 3ë¡œ ì§„í–‰

Critical ì´ìŠˆê°€ ì—†ìœ¼ë©´: Phase 3ë¡œ ì§„í–‰

> **HITL ì—†ìŒ**: ë¦¬ë·° í”¼ë“œë°±ì€ ì—ì´ì „íŠ¸ê°€ ìë™ìœ¼ë¡œ ë°˜ì˜í•©ë‹ˆë‹¤.
> ì»¨ì„¼ì„œìŠ¤ ë¶„ì„ ê²°ê³¼ëŠ” Step 1.5 ì„¤ê³„ ìŠ¹ì¸ ì‹œ ì‚¬ìš©ìì—ê²Œ ì´ë¯¸ í™•ì¸ë°›ì€ ë²”ìœ„ ë‚´ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.

---

## Phase 3: IMPLEMENT

`/implement` ì»¤ë§¨ë“œë¡œ êµ¬í˜„ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

**ì§„ì… ì‹œ ìƒíƒœ ê¸°ë¡**:
```yaml
# Edit .develop-workflow/state.yaml â†’ phase + strategy ì—…ë°ì´íŠ¸
phase: IMPLEMENT
strategy: "{ì„ íƒëœ ì „ëµ}"
updated_at: "{í˜„ì¬ ì‹œê°}"
```

> Phase 3ì—ì„œëŠ” RALPH iterationë§ˆë‹¤ state.yamlì„ ê°±ì‹ í•©ë‹ˆë‹¤.
> ìƒì„¸ ë¡œì§ì€ `/implement` ì»¤ë§¨ë“œì˜ "ìƒíƒœ ê´€ë¦¬" ì„¹ì…˜ì„ ì°¸ì¡°í•˜ì„¸ìš”.

### Step 3.1: ë¸Œëœì¹˜ ìƒì„±

git-utils `/git-branch` í™œìš©:

```bash
# feature ë¸Œëœì¹˜ ìƒì„±
/git-branch feat/<feature-name>
```

### Step 3.2: íƒœìŠ¤í¬ ë¶„ì„ ë° ì „ëµ ì„ íƒ

Checkpoint ëª©ë¡ì„ ë¶„ì„í•˜ì—¬ êµ¬í˜„ ì „ëµì„ ê²°ì •í•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  íƒœìŠ¤í¬ ë¶„ì„                                                â”‚
â”‚  â”œâ”€â”€ Checkpoint ìˆ˜: Nê°œ                                     â”‚
â”‚  â”œâ”€â”€ ì˜ì¡´ì„± ê·¸ë˜í”„: ë…ë¦½ vs ì¢…ì†                            â”‚
â”‚  â”œâ”€â”€ íŒŒì¼ ê²¹ì¹¨: ìˆìŒ vs ì—†ìŒ                                â”‚
â”‚  â””â”€â”€ ì†Œí†µ í•„ìš”: ìˆìŒ vs ì—†ìŒ                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Direct  â”‚    â”‚ Subagent â”‚    â”‚ Agent Teams  â”‚
    â”‚         â”‚    â”‚          â”‚    â”‚              â”‚
    â”‚ â€¢ 1ê°œ   â”‚    â”‚ â€¢ 2-4ê°œ  â”‚    â”‚ â€¢ 5+ê°œ       â”‚
    â”‚ â€¢ ê°„ë‹¨  â”‚    â”‚ â€¢ ë…ë¦½ì  â”‚    â”‚ â€¢ ì†Œí†µ í•„ìš”  â”‚
    â”‚ â€¢ ê²¹ì¹¨O â”‚    â”‚ â€¢ ê²¹ì¹¨X  â”‚    â”‚ â€¢ ëŒ€ê·œëª¨     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìë™ ì„ íƒ ê¸°ì¤€**:

| ì¡°ê±´ | ì „ëµ |
|------|------|
| Checkpoint 1ê°œ | Direct |
| Checkpoint 2-4ê°œ, ì˜ì¡´ì„± ì—†ìŒ, íŒŒì¼ ë…ë¦½ | Subagent |
| Checkpoint 5+ê°œ ë˜ëŠ” íŒ€ì› ê°„ ì†Œí†µ í•„ìš” | Agent Teams |
| ëª¨ë“  Checkpointê°€ ë™ì¼ íŒŒì¼ ìˆ˜ì • | Direct (ìˆœì°¨) |

> **ìë™ ì„ íƒ**: ì „ëµì€ ì—ì´ì „íŠ¸ê°€ ìë™ìœ¼ë¡œ ê²°ì •í•©ë‹ˆë‹¤. HITL ì—†ìŒ.

### Step 3.3a: Direct êµ¬í˜„

ë©”ì¸ ì—ì´ì „íŠ¸ê°€ ì§ì ‘ Checkpointë¥¼ ìˆœì°¨ ì‹¤í–‰í•©ë‹ˆë‹¤.

ê° Checkpointì— ëŒ€í•´ RALPH íŒ¨í„´ ì ìš©:
1. **R**ead: Contractì™€ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì½ê¸°
2. **A**nalyze: ìš”êµ¬ì‚¬í•­ ë¶„ì„
3. **L**earn: ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ íŒ¨í„´ í•™ìŠµ
4. **P**atch: êµ¬í˜„ ì½”ë“œ ì‘ì„±
5. **H**alt: ê²€ì¦ ëª…ë ¹ì–´ ì‹¤í–‰ â†’ Passë©´ ë‹¤ìŒ, Failì´ë©´ Rë¶€í„° ë°˜ë³µ

### Step 3.3b: Subagent êµ¬í˜„

Task toolë¡œ ë…ë¦½ íƒœìŠ¤í¬ë¥¼ ë³‘ë ¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

```
# ì˜ì¡´ì„± ì—†ëŠ” Checkpointë“¤ì„ ë³‘ë ¬ ì‹¤í–‰
Task(prompt="Checkpoint 1 êµ¬í˜„: ...", run_in_background=true)
Task(prompt="Checkpoint 2 êµ¬í˜„: ...", run_in_background=true)

# ì˜ì¡´ì„± ìˆëŠ” CheckpointëŠ” ì„ í–‰ ì™„ë£Œ í›„ ì‹¤í–‰
Task(prompt="Checkpoint 3 êµ¬í˜„: ...", run_in_background=true)  # depends on 1,2
```

ê° Subagentì—ê²Œ RALPH íŒ¨í„´ê³¼ Contract(Interface + Test)ë¥¼ í”„ë¡¬í”„íŠ¸ë¡œ ì£¼ì…í•©ë‹ˆë‹¤.

**ì¶©ëŒ ë°©ì§€**:
- ê° Subagentì— `allowed_files` / `forbidden_files` ì§€ì •
- ê³µìœ  íŒŒì¼(index.ts, types.ts)ì€ ë§ˆì§€ë§‰ì— ë©”ì¸ ì—ì´ì „íŠ¸ê°€ í†µí•©

### Step 3.3c: Agent Teams êµ¬í˜„

Claude Code ê³µì‹ Agent Teams ê¸°ëŠ¥ì„ í™œìš©í•©ë‹ˆë‹¤.

**íŒ€ ìƒì„± ìš”ì²­**:
```
ì—ì´ì „íŠ¸ íŒ€ì„ ë§Œë“¤ì–´ ë‹¤ìŒ Checkpointë“¤ì„ ë³‘ë ¬ë¡œ êµ¬í˜„í•´ì£¼ì„¸ìš”.

íŒ€ì› êµ¬ì„±:
- [Checkpoint 1 ë‹´ë‹¹] {contract, tests, allowed_files}
- [Checkpoint 2 ë‹´ë‹¹] {contract, tests, allowed_files}
- ...

ê° íŒ€ì›ì€ ë‹¤ìŒ RALPH íŒ¨í„´ì„ ë”°ë¥´ì„¸ìš”:
1. Contractê³¼ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ë¨¼ì € ì½ìœ¼ì„¸ìš”
2. ê¸°ì¡´ ì½”ë“œë² ì´ìŠ¤ íŒ¨í„´ì„ í•™ìŠµí•˜ì„¸ìš”
3. êµ¬í˜„ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
4. ê²€ì¦ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì„¸ìš”
5. ì‹¤íŒ¨í•˜ë©´ ë¶„ì„í•˜ê³  ìˆ˜ì •í•˜ì„¸ìš”

íŒ€ì›ë³„ ê³„íš ìŠ¹ì¸ì„ ìš”êµ¬í•©ë‹ˆë‹¤.
ì„œë¡œ ë‹¤ë¥¸ íŒŒì¼ì„ ì†Œìœ í•˜ë„ë¡ í•©ë‹ˆë‹¤.
```

**Agent Teams ì„¤ì • í•„ìš”**:
- `CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1` í™˜ê²½ë³€ìˆ˜
- ë˜ëŠ” settings.jsonì— ì„¤ì •

**Agent Teamsë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš°**:
- í™˜ê²½ë³€ìˆ˜ ë¯¸ì„¤ì • ì‹œ Subagentë¡œ ìë™ í´ë°±
- ì‚¬ìš©ìì—ê²Œ Agent Teams í™œì„±í™” ë°©ë²• ì•ˆë‚´

### Step 3.4: ìë™ ê²€ì¦

ëª¨ë“  Checkpoint êµ¬í˜„ ì™„ë£Œ í›„:
1. ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
2. ì‹¤íŒ¨ ì‹œ Test Oracle ì—ì´ì „íŠ¸ë¡œ ë¶„ì„ â†’ í”¼ë“œë°± â†’ ìë™ ì¬ì‹œë„
3. ìµœëŒ€ 3íšŒ ìë™ ì¬ì‹œë„
4. 3íšŒ ì‹¤íŒ¨ ì‹œì—ë§Œ `AskUserQuestion`ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì—ìŠ¤ì»¬ë ˆì´ì…˜ (ìœ ì¼í•œ ì˜ˆì™¸ì  HITL)

> **ê±°ì˜ ìë™**: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° RALPH íŒ¨í„´ì´ ìë™ìœ¼ë¡œ í•´ê²°í•©ë‹ˆë‹¤.
> ì—ìŠ¤ì»¬ë ˆì´ì…˜ì€ êµ¬í˜„ ë¶ˆê°€ëŠ¥í•œ ìƒí™©ì—ì„œë§Œ ë°œìƒí•˜ëŠ” ì•ˆì „ì¥ì¹˜ì…ë‹ˆë‹¤.

---

## Phase 4: MERGE

**ì§„ì… ì‹œ ìƒíƒœ ê¸°ë¡**:
```yaml
# Edit .develop-workflow/state.yaml â†’ phase ì—…ë°ì´íŠ¸
phase: MERGE
updated_at: "{í˜„ì¬ ì‹œê°}"
```

### Step 4.1: Multi-LLM ì½”ë“œ ë¦¬ë·° + ì‚¬ìš©ì í™•ì¸ (HITL #2)

êµ¬í˜„ ê²°ê³¼ë¬¼ì— ëŒ€í•´ `/multi-review`ë¡œ ì½”ë“œ ë¦¬ë·° ì‹¤í–‰:

```
/multi-review "êµ¬í˜„ëœ ì½”ë“œë¥¼ ì—”ì§€ë‹ˆì–´ ê´€ì ìœ¼ë¡œ ë¦¬ë·°í•´ì¤˜"
```

ë¦¬ë·° ê²°ê³¼ë¥¼ `AskUserQuestion`ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì œì‹œí•©ë‹ˆë‹¤:
- ë¦¬ë·° ìš”ì•½ (í•©ì˜/ë¶„ìŸ ì‚¬í•­)
- ìˆ˜ì • í•„ìš” ì—¬ë¶€
- **ìŠ¹ì¸ ì‹œ**: Step 4.2ë¡œ ì§„í–‰
- **ìˆ˜ì • ìš”ì²­ ì‹œ**: Phase 3ë¡œ ëŒì•„ê°€ì„œ ìˆ˜ì • í›„ ì¬ë¦¬ë·°

> **HITL #2**: ë¨¸ì§€ ì „ ìµœì¢… í’ˆì§ˆ ê²Œì´íŠ¸. RALPH ì™„ë£Œ í›„ ì½”ë“œ ë¦¬ë·° ê²°ê³¼ë¥¼ ì‚¬ìš©ìê°€ í™•ì¸í•©ë‹ˆë‹¤.

### Step 4.2: Commit & PR

git-utils í™œìš©:

```bash
# ì»¤ë°‹ ë° PR ìƒì„±
/commit-and-pr
```

### Step 4.3: CI í™•ì¸

```bash
# CI ìƒíƒœ í™•ì¸
/check-ci
```

CI ì‹¤íŒ¨ ì‹œ:
1. ì‹¤íŒ¨ ì›ì¸ ë¶„ì„
2. ìˆ˜ì • í›„ ì¬ì»¤ë°‹
3. ìµœëŒ€ 3íšŒ ì¬ì‹œë„

### Step 4.4: ìµœì¢… í™•ì¸

```bash
# ë¯¸í•´ê²° ë¦¬ë·° í™•ì¸
/unresolved-reviews

# ë¨¸ì§€
/merge-pr
```

### Step 4.5: ì›Œí¬í”Œë¡œìš° ì™„ë£Œ

```yaml
# Edit .develop-workflow/state.yaml â†’ ì™„ë£Œ ê¸°ë¡
phase: DONE
updated_at: "{í˜„ì¬ ì‹œê°}"
```

> **ì •ë¦¬**: ì›Œí¬í”Œë¡œìš° ì™„ë£Œ í›„ `.develop-workflow/state.yaml`ì€ ìœ ì§€í•©ë‹ˆë‹¤.
> ë‹¤ìŒ `/develop` ì‹¤í–‰ ì‹œ DONE ìƒíƒœë¥¼ ê°ì§€í•˜ë©´ "ì´ì „ ì›Œí¬í”Œë¡œìš°ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œ ì‹œì‘í•©ë‹ˆë‹¤."ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

---

## ì‚¬ìš© ì˜ˆì‹œ

```bash
# ê¸°ë³¸ ì‚¬ìš© (ì „ì²´ ì›Œí¬í”Œë¡œìš°)
/develop "ì‹¤ì‹œê°„ ì±„íŒ… ê¸°ëŠ¥ì„ ì¶”ê°€í•´ì¤˜"

# ì œì•½ì¡°ê±´ í¬í•¨
/develop "React + Node.jsë¡œ ê²°ì œ ëª¨ë“ˆ êµ¬í˜„. PostgreSQL ì‚¬ìš©"

# ê¸°ì¡´ ì½”ë“œ í™•ì¥
/develop "í˜„ì¬ ì¸ì¦ ì‹œìŠ¤í…œì— OAuth2 ì§€ì› ì¶”ê°€"
```

## Phase ë‹¨ë… ì‹¤í–‰

ê° Phaseë¥¼ ë…ë¦½ì ìœ¼ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```bash
/design "ì±„íŒ… ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„"     # Phase 1ë§Œ
/multi-review "plans/*.md ë¦¬ë·°"          # Phase 2ë§Œ
/implement "checkpoints.yaml ê¸°ë°˜ êµ¬í˜„"  # Phase 3ë§Œ
```

## ì„¤ì •

```yaml
# .develop-workflow.yaml (í”„ë¡œì íŠ¸ ë£¨íŠ¸)
develop:
  # Phase 1: Design
  design:
    multi_llm: true           # 3ê°œ LLM ë³‘ë ¬ ì„¤ê³„ (falseë©´ Claudeë§Œ)

  # Phase 2: Review
  review:
    multi_llm: true           # 3ê°œ LLM ë³‘ë ¬ ë¦¬ë·°
    auto_feedback: true       # Critical ì´ìŠˆ ìë™ í”¼ë“œë°±
    max_iterations: 2         # ë¦¬ë·° â†” ìˆ˜ì • ìµœëŒ€ ë°˜ë³µ

  # Phase 3: Implement
  implement:
    strategy: auto            # auto | direct | subagent | agent-teams
    max_retries: 3            # RALPH ìµœëŒ€ ì¬ì‹œë„
    validate_each: true       # Checkpointë³„ ê²€ì¦

  # Phase 4: Merge
  merge:
    code_review: true         # Multi-LLM ì½”ë“œ ë¦¬ë·°
    auto_ci_check: true       # CI ìë™ í™•ì¸
```

## git-utils ì˜ì¡´ì„±

ì´ ì›Œí¬í”Œë¡œìš°ëŠ” git-utils í”ŒëŸ¬ê·¸ì¸ì˜ ë‹¤ìŒ ì»¤ë§¨ë“œë¥¼ í™œìš©í•©ë‹ˆë‹¤:

| Phase | git-utils ì»¤ë§¨ë“œ | ìš©ë„ |
|-------|-----------------|------|
| Phase 3 | `/git-branch` | feature ë¸Œëœì¹˜ ìƒì„± |
| Phase 3 | `/branch-status` | ë¸Œëœì¹˜ ìƒíƒœ í™•ì¸ |
| Phase 4 | `/commit-and-pr` | ì»¤ë°‹ + PR ìƒì„± |
| Phase 4 | `/check-ci` | CI ê²°ê³¼ í™•ì¸ |
| Phase 4 | `/unresolved-reviews` | ë¯¸í•´ê²° ë¦¬ë·° í™•ì¸ |
| Phase 4 | `/merge-pr` | PR ë¨¸ì§€ |
| Phase 4 | `/git-resolve` | ì¶©ëŒ í•´ê²° |

> **ì£¼ì˜**: git-utils í”ŒëŸ¬ê·¸ì¸ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
