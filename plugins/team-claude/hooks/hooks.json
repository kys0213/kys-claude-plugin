{
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "description": "Worker 완료 시 자동 검증 트리거",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook worker-complete",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "",
        "description": "spec-refine iteration 종료 시 carry 업데이트 및 에스컬레이션 판단",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook refine-iteration-end",
            "timeout": 30
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Task",
        "description": "Worker 질문 시 에스컬레이션 (Task 도구 사용 시)",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook worker-question",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "description": "Bash 실행 후 결과 분석 (test 명령어는 내부에서 필터링)",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook validation-complete",
            "timeout": 60
          }
        ]
      },
      {
        "matcher": "Bash",
        "description": "spec-refine: 외부 LLM 리뷰 스크립트 완료 감지 (call-codex/call-gemini)",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook refine-review-complete",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Task",
        "description": "spec-refine: Claude 리뷰 에이전트 완료 감지 (Task 도구)",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook refine-review-complete",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Write",
        "description": "spec-refine: 스펙 파일 수정 감지 → 정제 액션 기록",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook refine-spec-modified",
            "timeout": 10
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "idle_prompt",
        "description": "Worker 대기 상태 감지",
        "hooks": [
          {
            "type": "command",
            "command": "tc hook worker-idle",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
